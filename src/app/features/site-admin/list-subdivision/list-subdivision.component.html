<div class="container-fluid">
    <!-- Card displaying the list of subdivisions -->
    <mat-card class="mat-card">
        <!-- Card header with title and Add Subdivision button -->
        <mat-card-header class="page-card-header">
            <div class="page-title">Sub Division List</div>
            <!-- Button to navigate to the 'add-subdivision' page -->
            <button mat-flat-button [routerLink]="'../subdivision/new'">
                <mat-icon>add</mat-icon> Add Subdivision
            </button>
        </mat-card-header>
  
        <!-- Card content containing the table and dropdown -->
        <mat-card-content class="page-card-content">
  
            <!-- Dropdown for selecting district -->
            <div class="row">
                <div class="col-xl-4 col-lg-4 col-md-4">
                    <mat-form-field appearance="outline">
                        <mat-label>Select District</mat-label>
                        <!-- MatSelect to choose a district, triggers onDistrictSelect on change -->
                        <mat-select [(ngModel)]="selectedDistrictCode" (selectionChange)="onDistrictSelect()">
                            <!-- Default option to show all districts -->
                            <mat-option [value]="null">All Districts</mat-option>
                            <!-- Loop through the districts array to display options -->
                            <mat-option *ngFor="let district of districts" [value]="district.DistrictCode">
                                {{ district.District }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
            </div>
  
          <!-- Table displaying the subdivision data -->
          <div class="table-container">
              <mat-table [dataSource]="subdivisionDataSource">
                  <!-- Column for displaying the ID -->
                  <ng-container matColumnDef="id">
                      <mat-header-cell *matHeaderCellDef> Id </mat-header-cell>
                      <mat-cell *matCellDef="let element"> {{ element.id }} </mat-cell>
                  </ng-container>
  
                  <!-- Column for displaying Sub Division Name -->
                  <ng-container matColumnDef="subdivisionName">
                      <mat-header-cell *matHeaderCellDef> Sub Division Name </mat-header-cell>
                      <mat-cell *matCellDef="let element"> {{ element.SubDivisionName }} </mat-cell>
                  </ng-container>
  
                  <!-- Column for displaying Sub Division Name in LL -->
                  <ng-container matColumnDef="subdivisionNameLL">
                      <mat-header-cell *matHeaderCellDef> Sub Division Name LL</mat-header-cell>
                      <mat-cell *matCellDef="let element"> {{ element.SubDivisionNameLL }} </mat-cell>
                  </ng-container>
  
                  <!-- Column for displaying Sub Division Code -->
                  <ng-container matColumnDef="subdivisionCode">
                      <mat-header-cell *matHeaderCellDef> Sub Division Code </mat-header-cell>
                      <mat-cell *matCellDef="let element"> {{ element.SubDivisionCode }} </mat-cell>
                  </ng-container>
  
                  <!-- Column for displaying District Name -->
                  <ng-container matColumnDef="district">
                      <mat-header-cell *matHeaderCellDef> District Name </mat-header-cell>
                      <mat-cell *matCellDef="let element"> {{ element.District }} </mat-cell>
                  </ng-container>
  
                  <!-- Column for displaying District Code -->
                  <ng-container matColumnDef="districtCode">
                      <mat-header-cell *matHeaderCellDef> District Code </mat-header-cell>
                      <mat-cell *matCellDef="let element"> {{ element.DistrictCode }} </mat-cell>
                  </ng-container>
  
                  <!-- Column for actions (Edit/Delete buttons) -->
                  <ng-container matColumnDef="actions">
                      <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
                      <mat-cell *matCellDef="let element">
                          <!-- Edit button, calls onEdit method when clicked -->
                          <button mat-icon-button color="primary" (click)="onEdit(element)">
                              <mat-icon>edit</mat-icon>
                          </button>
                          <!-- Delete button, calls onDelete method when clicked -->
                          <button mat-icon-button color="warn" (click)="onDelete(element)">
                              <mat-icon>delete</mat-icon>
                          </button>
                      </mat-cell>
                  </ng-container>
  
                  <!-- Header and row definition for displaying the data -->
                  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
              </mat-table>
          </div>
        </mat-card-content>
    </mat-card>
  </div>
  