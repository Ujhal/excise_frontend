<div class="step-container">
  <div class="heading">
    Unit Details
  </div>

  <div class="validation">
    * Marked Fields Are Mandatory
  </div>

  <div *ngIf="isIndividual()">
    
  </div>
  
  <form [formGroup]="unitDetailsForm" *ngIf="isCompany()">
    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Company Name</mat-label>
        <input matInput placeholder="Enter Company Name" type="text" [formControl]="companyName"/>
        @if (companyName.invalid) {
          <mat-error>{{ getErrorMessage('companyName') }}</mat-error>
        }
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Registered Office Address</mat-label>
        <textarea matInput
                  placeholder="Enter Company Address"
                  [formControl]="companyAddress"
                  cdkTextareaAutosize
                  #autosize="cdkTextareaAutosize"
                  cdkAutosizeMinRows="1"
                  cdkAutosizeMaxRows="5"
                  required>
        </textarea>
        @if (companyAddress.invalid) {
          <mat-error>{{ getErrorMessage('companyAddress') }}</mat-error>
        }
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>PAN</mat-label>
        <input matInput placeholder="Enter Company PAN" type="text" [formControl]="companyPan"/>
        @if (companyPan.invalid) {
          <mat-error>{{ getErrorMessage('companyPan') }}</mat-error>
        }
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>CIN Number</mat-label>
        <input matInput placeholder="Enter Company CIN" type="text" [formControl]="companyCin"/>
        @if (companyCin.invalid) {
          <mat-error>{{ getErrorMessage('companyCin') }}</mat-error>
        }
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Date of Incorporation</mat-label>
        <input matInput type="date" [formControl]="incorporationDate" required/>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Phone Number</mat-label>
        <input matInput placeholder="Enter Phone Number" type="tel" [formControl]="phoneNumber" (blur)="updateErrorMessage('phoneNumber')" required />
        @if (phoneNumber.invalid) {
          <mat-error>{{ getErrorMessage('phoneNumber') }}</mat-error>
        }
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field appearance="outline">
        <mat-label>Email Id</mat-label>
        <input matInput placeholder="Enter Email Id" type="email" [formControl]="emailId"/>
        @if (emailId.invalid) {
          <mat-error>{{ getErrorMessage('emailId') }}</mat-error>
        }
      </mat-form-field>
    </div>  

  </form>   

  <div class="button-container">
    <button mat-stroked-button (click)="goBack()">Back</button>
    <button mat-flat-button color="primary" (click)="proceedToNext()" [disabled]="isCompany() && !unitDetailsForm.valid">
      Next
    </button>
    <button mat-stroked-button color="warn" (click)="resetForm()">Reset</button>
  </div>
</div>
